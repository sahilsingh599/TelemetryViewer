<Window x:Class="TelemetryViewer.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:lvc="clr-namespace:LiveChartsCore.SkiaSharpView.WPF;assembly=LiveChartsCore.SkiaSharpView.WPF"
        xmlns:lvcCore="clr-namespace:LiveChartsCore;assembly=LiveChartsCore"
        xmlns:viewModels="clr-namespace:TelemetryViewer.ViewModels"
        Title="F1 Telemetry Viewer - Version 1.0.0" Height="500" Width="800"
        Background="White">

    <Window.DataContext>
        <viewModels:MainViewModel/>
    </Window.DataContext>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- Row 0: Session Selection Controls -->
            <RowDefinition Height="Auto"/>
            <!-- Row 1: Dropdowns -->
            <RowDefinition Height="*"/>
            <!-- Row 2: Chart -->
            <RowDefinition Height="Auto"/>
            <!-- Row 3: Summary Section -->
        </Grid.RowDefinitions>

        <!-- Row 0: Session Selection Controls -->
        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="10" Grid.Row="0">
            <TextBlock Text="Country:" Margin="5" VerticalAlignment="Center"/>
            <ComboBox Width="120" ItemsSource="{Binding Countries}" SelectedItem="{Binding SelectedCountry}" Margin="5"/>
            <TextBlock Text="Year:" Margin="5" VerticalAlignment="Center"/>
            <ComboBox Width="80" ItemsSource="{Binding Years}" SelectedItem="{Binding SelectedYear}" Margin="5"/>
            <TextBlock Text="Session Type:" Margin="5" VerticalAlignment="Center"/>
            <ComboBox Width="120" ItemsSource="{Binding SessionTypes}" SelectedItem="{Binding SelectedSessionType}" Margin="5"/>
            <Button Content="Load Sessions" Command="{Binding LoadSessionsCommand}" Margin="10,0,0,0"/>
            <TextBlock Text="Session:" Margin="5" VerticalAlignment="Center"/>
            <ComboBox Width="200" ItemsSource="{Binding AvailableSessions}" SelectedItem="{Binding SelectedSession}" Margin="5"/>
            <TextBlock Text="Lap Number:" Margin="5" VerticalAlignment="Center"/>
            <TextBox Width="50" Text="{Binding SelectedLapNumber, UpdateSourceTrigger=PropertyChanged}" Margin="5"/>
        </StackPanel>

        <!-- Row 1: Driver Selectors for OpenF1 -->
        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="10" Grid.Row="1">
            <TextBlock Text="OpenF1 Driver Names:" Margin="5" VerticalAlignment="Center"/>
            <ComboBox Width="150" ItemsSource="{Binding OpenF1Drivers}" SelectedItem="{Binding SelectedOpenF1Driver1}" DisplayMemberPath="Name" Margin="5"/>
            <ComboBox Width="150" ItemsSource="{Binding OpenF1Drivers}" SelectedItem="{Binding SelectedOpenF1Driver2}" DisplayMemberPath="Name" Margin="5"/>
            <Button Content="Load OpenF1 Data" Command="{Binding LoadOpenF1DataCommand}" Margin="10,0,0,0"/>
        </StackPanel>

        <!-- Row 2: Chart -->
        <lvc:CartesianChart Grid.Row="2"
                            Margin="10"
                            Series="{Binding TelemetrySeries}"
                            XAxes="{Binding XAxes}"
                            YAxes="{Binding YAxes}"
                            Sections="{Binding Sections}"
                            LegendPosition="Right"
                            ZoomMode="X"
                            DrawMarginFrame="{x:Null}" />

        <!-- Row 3: Summary Section -->
        <TextBlock Grid.Row="3"
                   Margin="10,0,10,10"
                   Text="{Binding LapComparisonSummary}"
                   FontWeight="Bold"
                   FontSize="16"
                   Foreground="DarkBlue"
                   TextAlignment="Center"/>
    </Grid>
</Window>
